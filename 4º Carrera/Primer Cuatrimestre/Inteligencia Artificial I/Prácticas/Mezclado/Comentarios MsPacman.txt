Comentarios acerca de la implementación de MsPacman:

En primer lugar, queremos advertir que durante el transcurso de la práctica priorizamos la elaboración de los fantasmas frente a la estrategia de MsPacman y estamos muy contentos con esta aproximación porque los resultados que hemos obtenido con los fantasmas son a nuestro juicio muy positivos. En cuanto a la implementación de MsPacman hemos decidido incluir las reglas que se explican a continuación.

Comenzamos con la regla MSPACMANdefaultMode. Hemos decidido que el principal objetivo de MsPacman sea intentar comerse las Pills para así intentar pasar de nivel lo antes posible. Entendemos que este es el espíritu del juego más allá de seguir otras estrategias que consideramos algo más antinaturales como dejar de comer Pills para no pasar de nivel y centrarse en comer fantasmas cuando están en estado edible.

También contamos con las reglas usuales para huir de los fantasmas que son MSPACMANsurvives y MSPACMANrunsAway. La principal diferencia entre ambas es que si hay dos fantasmas persiguiendo a MsPacman (en estado no edible) y están suficientemente cerca (a distancia menor que 60), se activará la primera de ellas para que MsPacman huya de ambos (survive) y si es solamente uno el que está cerca se elegirá la acción runAway.

Para las situaciones en las que el fantasma más cercano está muy próximo a MsPacman nos es útil la regla MSPACMANrunsAwayToPPill. Consiste en dirigirse a la PowerPill más cercana si esta está a distancia menor que el doble de la distancia del fantasma a MsPacman (para asegurarnos de que MsPacman llega antes a la PowerPill que el fantasma a MsPacman). Con esta estrategia lo lógico es que si tenemos un fantasma persiguiéndonos de cerca podamos conseguir la PowerPill haciendo a ese fantasma cercano vulnerable y podamos comérnoslo.

Siguiendo con la situación en la que alguno o varios fantasmas son vulnerables presentamos otras dos reglas: MSPACMANchase y MSPACMANsomeEdible. La primera de ellas es muy sencilla ya que se activa cuando todos los fantasmas con comestibles y la acción que se realiza es perseguir al más cercano de ellos. La segunda de ellas es algo más específica. En la situación, en la que algunos fantasmas son comestibles y otros no, nos dimos cuenta de que se daban casos en los que el fantasma comestible más cercano estaba muy lejos y había un fantasma no comestible en la trayectoria de persecución. Además, en algunas ocasiones, cuando quedan pocas Pills, consideramos que es más importante pasar de nivel antes que perseguir a fantasmas por lo que decidimos que era necesario incluir esta regla. Esta regla se activa cuando el número de Pills restantes es mayor que 15 y la distancia de MsPacman al fantasma comestible más cercano es menor que 50 y menor que la distancia al fantasma no comestible más cercano. En el resto de ocasiones creemos que es preferible seguir con la estrategia por defecto de comer Pills para pasar de nivel. 

En relación a estas reglas en las que alguno de los fantasmas es comestible, nos hubiera gustado tener acceso a la variable que nos dice el tiempo que queda para que los fantasmas dejen de ser vulnerables (edibleTime). Esta variable sí que es accesible para los fantasmas, pero creemos que, en el juego original, el jugador que controla a MsPacman sí que puede estimar o al menos acotar el tiempo que queda para que los fantasmas dejen de ser comestibles. Esto puede hacer variar notablemente la estrategia porque cuando este tiempo es muy pequeño puede ser más conveniente dejar de perseguir a un fantasma para centrarse en comer Pills y así evitar riesgos de que al finalizar el edibleTime MsPacman se quede muy cerca de un fantasma que ya no será comestible. 

Una vez presentadas las formas básicas de comportamiento presentamos otras 4 estrategias más relacionadas con el tiempo restante u otras situaciones especiales que creemos vale la pena considerar.

En primer lugar, MSPACMANkamikaze se activa cuando el fantasma más lejano está a distancia menor que 30, es decir, todos los fantasmas están muy cerca. En esta situación lo más probable es que MsPacman esté acorralada y la acción desesperada que va a tomar va a ser ir a la PowerPill más cercana ignorando a los fantasmas. Si hay suerte y consigue llegar, estaremos en una situación muy ventajosa ya que todos los fantasmas serán comestibles y estarán muy cerca y, si no, no habremos perdido gran cosa porque estábamos en una situación límite.

En segundo lugar, presentamos dos estrategias relacionadas con el tiempo restante. Para evitar bucles en los que MsPacman es demasiado cauta para intentar atacar una PowerPill defendida por fantasmas o zonas del tablero donde hay muchas Pills pero por las que merodean fantasmas y el tiempo restante se reduce rápidamente planteamos las reglas MSPACMANhurryUpPP y MSPACMANhurryUp. Con la primera de ellas, si el tiempo restante es menor de 400 ticks y todavía hay alguna PowerPill, MsPacman irá a por ella. Con la segunda, si no queda ninguna PowerPill, MsPacman intentará ir a por las Pills restantes. Estas estrategias no tienen en cuenta a los fantasmas por lo que son muy arriesgadas y por eso solamente se activan cuando queda poco tiempo.

Por último, y ante el comportamiento en ocasiones errático de MsPacman en situaciones donde quedaban muy pocas Pills, decidimos incluir la regla MSPACMANimGoingToWin. Si el número de Pills es muy reducido, menor que 3, y la distancia a la más cercana de ellas es menor que el doble de la distancia del fantasma más cercano a MsPacman, olvidamos todas las estrategias de huida y nos centramos en lanzarnos a por esas pocas Pills que habitualmente están próximas entre sí para así pasar de nivel. 

Como comentario final, creemos que el comportamiento de nuestro MsPacman es básico pero sólido y, en vista de los resultados del torneo de prueba que realizamos en clase, quizás nos ha penalizado más de lo que esperábamos nuestra estrategia de priorizar pasar de nivel en contraposición a la estrategia de conseguir muchos puntos comiendo fantasmas. Además, como ya se comentó previamente, nuestra mayor preocupación fue realizar unos fantasmas muy buenos, objetivo que creemos haber logrado, porque entendíamos que había más posibles estrategias distintas comparadas con las de MsPacman.

